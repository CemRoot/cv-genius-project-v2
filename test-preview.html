<!DOCTYPE html>
<html>
<head>
    <title>Template Preview Test</title>
    <script>
        // Test template preview generation
        async function testTemplatePreview() {
            try {
                // Navigate to template selector page
                const response = await fetch('http://localhost:3003/cover-letter/choose-template');
                console.log('Page response status:', response.status);
                
                // Test API directly
                const apiResponse = await fetch('http://localhost:3003/api/cover-letter-templates');
                const data = await apiResponse.json();
                
                console.log('✅ API Response:', data);
                console.log('📊 Templates loaded:', data.templates?.length || 0);
                
                if (data.success && data.templates.length > 0) {
                    const firstTemplate = data.templates[0];
                    console.log('🎯 First template:', firstTemplate.name);
                    console.log('🔗 Base template:', firstTemplate.baseTemplate);
                    console.log('📝 Template ID:', firstTemplate.id);
                    
                    // Check if template has required style properties
                    console.log('🎨 Template styles:', Object.keys(firstTemplate.styles));
                }
            } catch (error) {
                console.error('❌ Test failed:', error);
            }
        }
        
        // Run test when page loads
        window.onload = testTemplatePreview;
    </script>
</head>
<body>
    <h1>Template Preview Test</h1>
    <p>Check browser console for test results</p>
    <a href="http://localhost:3003/cover-letter/choose-template" target="_blank">Open Template Selector</a>
</body>
</html>